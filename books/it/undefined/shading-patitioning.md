# Shading, Patitioning

#### 샤딩

* 특징
  * 레플리케이션을 보완하는 개념
  * Shard Key 라고 알려진 키를 기준으로 데이터를 나누어 DB에 분산해서 저장
* 장점
  * DB 서버의 Scale Out 가능
  * 스캔 범위를 줄여서 쿼리 반응 속도를 빠르게 함
  * 장애가 샤드 단위로 발생
* 단점
  * 프로그래밍 복잡도 증가
  * 데이터가 한 쪽 샤드로 몰릴 경우(Hotspot), 샤딩이 무의미해짐
* 결론적으로 샤딩은 운영 복잡도가 높아진다는 단점이 있으므로, 가급적이면 아래 방법들을 추천
  * 서버의 Scale Up
  * 부하가 클 경우 Cache 및 DB Replication
  * 테이블의 일부 컬럼만 주로 사용할 경우, Vertical Partitioning

***

#### 파티셔닝

* 특징
  * 하나의 테이블을 여러개의 테이블로 물리적으로 분할 저장하는 방법
    * 사용자는 마치 하나의 테이블에 접근하는 것과 같이 사용 가능
  * 샤딩과 유사하지만, 파티셔닝은 단일 DB에서 주로 사용
  *

      <figure><img src="../../../.gitbook/assets/image (16) (1).png" alt=""><figcaption></figcaption></figure>
* 장점
  * 파티션 단위 백업, 추가, 삭제, 변경에 용이함
  * 파티션 단위 조회 및 DML을 수행함으로써 필요한 부분만 탐색 가능
*   단점

    * JOIN으로 인한 비용 증가

    ***
* 파티셔닝과 샤딩의 차이 : 파티셔닝은 하나의 DB에, 샤딩은 여러 DB에 분산되어 저장됨
